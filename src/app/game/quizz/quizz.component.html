<div class="quizz-container">
  <h1 class="title">Quizz Angular</h1>

  <!-- Affiche une erreur s'il y en a -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Affiche les questions si disponibles -->
  <div *ngIf="questions.length > 0" class="question-card">
    <p class="progress">
      Question {{ currentQuestionIndex + 1 }} sur {{ questions.length }}
    </p>
    <h3 class="question-text">{{ questions[currentQuestionIndex]?.question }}</h3>

    <ul class="options">
      <li
        *ngFor="let option of questions[currentQuestionIndex]?.options; let i = index"
        [class.selected]="i === selectedOption"
        (click)="selectOption(i)"
        class="option"
      >
        {{ option?.text }}
      </li>
    </ul>

    <button class="btn-next" [disabled]="selectedOption === null" (click)="nextQuestion()">Suivant</button>
  </div>

  <!-- Affiche un message lorsque les questions sont en cours de chargement -->
  <div *ngIf="questions.length === 0 || questions.length === null" class="loading">
    <p>Chargement des questions...</p>
  </div>
</div>
